<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>getKeyGestureFragment | LISN.js</title><link rel="icon" href="../assets/favicon.ico"/><meta name="description" content="Documentation for LISN.js"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="https://lisnjs.github.io" class="title">LISN.js</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">LISN.js</a></li><li><a href="../modules/Utils.html">Utils</a></li><li><a href="Utils.getKeyGestureFragment.html">getKeyGestureFragment</a></li></ul><h1>Function getKeyGestureFragment</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Returns a <a href="../types/Utils.GestureFragment.html" class="tsd-kind-type-alias">GestureFragment</a> for the given events. Only &quot;keydown&quot;
events will be considered.</p>
<p>If there are no &quot;keydown&quot; events in the given list of events, returns
<code>false</code>.</p>
<p>The deltas of all events are summed together before determining final delta
and direction.</p>
<p>If the events are of conflicting types, i.e. some scroll, some zoom, then
the intent will be &quot;unknown&quot; and the direction will be &quot;ambiguous&quot;.</p>
<p>Otherwise, if the deltas sum up to 0, the direction will be &quot;none&quot;.</p>
<p><strong>IMPORTANT NOTES ON THE DELTA VALUES</strong></p>
<p>For key gestures the deltas are unreliable. You should not assume they
correspond to the would-be scroll or zoom amount that the browser would do.
But they can be used to determine relative amounts for animating, etc.</p>
<p>Key press events can be divided into 3 categories: that scroll by a &quot;line&quot;
(e.g. arrow keys), by a &quot;page&quot; (e.g. PageUp/PageDown) or by the full content
height/width (e.g. Home/End). The actual scroll amount that <em>would</em> result
from the event is dependent on the browser, the window size or the element's
scroll width/height, so ours can only be a best guess.</p>
<p>Since the actual pixel equivalent is browser specific, we use reasonable
default values of delta for each of these &quot;line&quot;, &quot;page&quot; or &quot;content&quot; modes,
similar to what
<a href="Utils.getWheelGestureFragment.html" class="tsd-kind-function">getWheelGestureFragment</a> does:</p>
<ul>
<li>For &quot;line&quot;, then a configurable fixed value is used
(<a href="../variables/Settings.settings.html#__typedeltalineheight" class="tsd-kind-property">settings.deltaLineHeight</a>).</li>
<li>For &quot;page&quot;, then a configurable fixed value is used
(<a href="../variables/Settings.settings.html#__typedeltapageheight" class="tsd-kind-property">settings.deltaPageHeight</a>).</li>
<li>For &quot;content&quot;, the element's scroll height is used if given, otherwise
the viewport height (same as &quot;page&quot;). We do not try to get the current
scroll height of the target element, (which would be the best guess value
of <code>deltaY</code> in case of Home/End key presses), as that would either involve
an asynchronous action or would result in forced layout. If the caller is
already tracking the scroll height of the target, you can pass this as an
argument. Otherwise, we'll default to using the viewport height, same as
for PageUp/Down.</li>
</ul>
<p>If the key gesture fragment is a result of multiple events that were
accumulated, the deltas are summed as usual, e.g. if a &quot;page&quot; is equal to 20
&quot;lines&quot;, then pressing PageDown and then 10 times Up, would result in a
delta equal to 10 &quot;lines&quot; down.</p>
<p>For zoom intents, <code>deltaZ</code> gives a relative change of scale, whereby each
press of + or - steps up by 15% or down by ~13% (<code>1 / 1.15</code> to be exact)
since the previous one.</p>
</div><div class="tsd-comment tsd-typography"></div></section><section class="tsd-panel"><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="getkeygesturefragment" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getKeyGestureFragment</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">events</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Event</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-keyword">readonly</span> <span class="tsd-signature-type">Event</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">angleDiffThreshold</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">scrollHeight</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">false</span> <span class="tsd-signature-symbol">|</span> <a href="../types/Utils.GestureFragment.html" class="tsd-signature-type tsd-kind-type-alias">GestureFragment</a><a href="#getkeygesturefragment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">events</span>: <span class="tsd-signature-type">Event</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-keyword">readonly</span> <span class="tsd-signature-type">Event</span><span class="tsd-signature-symbol">[]</span></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">angleDiffThreshold</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">scrollHeight</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span></span><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">angleDiffThreshold</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><p>See <a href="Utils.getVectorDirection.html" class="tsd-kind-function">getVectorDirection</a></p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">scrollHeight</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><p>Use this as deltaY when Home/End is pressed</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">false</span> <span class="tsd-signature-symbol">|</span> <a href="../types/Utils.GestureFragment.html" class="tsd-signature-type tsd-kind-type-alias">GestureFragment</a></h4><p><code>false</code> if there are no &quot;keydown&quot; events in the list, otherwise a
<a href="../types/Utils.GestureFragment.html" class="tsd-kind-type-alias">GestureFragment</a>.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/lisnjs/lisn.js/blob/2e9144c33520b802635b71d0ffbab2e74262e158/packages/lisn.js/src/ts/utils/gesture-key.ts#L78">packages/lisn.js/src/ts/utils/gesture-key.ts:78</a></li></ul></aside></div></li></ul></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">LISN.js</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
